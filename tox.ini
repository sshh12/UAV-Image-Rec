[tox]
envlist = style,model,unit
skipsdist = true

[testenv]
basepython = python3.6

[testenv:style]
deps =
    pycodestyle
commands =
    pycodestyle --exclude=vendor target_finder_model generate test

[testenv:model]
deps =
    -r requirements-dev.txt
setenv =
    SHAPES_DIR = test/shapes
    BOTTLENECK_DIR = test/bottlenecks
    NUM_SHAPES = 50
    TRAINING_STEPS = 500
commands =
    python build.py

[testenv:unit]
deps =
    pytest
commands =
    pip install -e .
    pytest test

[pycodestyle]
ignore = E221,W504
show-source = true
